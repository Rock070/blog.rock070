<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Rock070 Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="">





<meta name="keywords" content="網頁前端,frontend,modern web, vue, ES6, Jest, CSS pattern, Unit Test">








<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/blog.rock070/css/style.css">






<!-- hexo injector head_end start --><meta name="google-site-verification" content="YYZZWlYnr4GdRq2eYW8zN2hM9gw2rKFydgY2hvBPLw0" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/blog.rock070/">
                
                <span>Rock070</span>
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/blog.rock070/about">關於我</a>
            
            <a class="navbar-item "
               href="/blog.rock070/categories">文章分類</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            
            
            <a class="navbar-item" target="_blank" title="Medium" href="https://medium.com/@mirthful_satin_dinosaur_426">
                
                <i class="fa-brands fa-medium"></i>
                
            </a>
               
            
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog.rock070/2023/01/04/learn-in-public/" itemprop="url">如何在公開場合學習</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2023-01-03T19:13:36.000Z" itemprop="datePublished">2023年1月4日</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog.rock070/categories/%E8%BB%9F%E5%AF%A6%E5%8A%9B/">軟實力</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            16 分钟 讀完 (約 2446 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>在 dev.to 看到這篇文章，<a target="_blank" rel="noopener" href="https://dev.to/blackgirlbytes/how-to-learn-in-public-1coh">How to learn in public - dev.to</a>，覺得很讚，來寫一下筆記。</p>
<h2 id="一、什麼是在公開場合學習？"><a href="#一、什麼是在公開場合學習？" class="headerlink" title="一、什麼是在公開場合學習？"></a>一、什麼是在公開場合學習？</h2><p>公開場合是指在網路上分享學習成果。</p>
<h2 id="二、什麼原因會導致猶豫是否要在公開場合學習"><a href="#二、什麼原因會導致猶豫是否要在公開場合學習" class="headerlink" title="二、什麼原因會導致猶豫是否要在公開場合學習"></a>二、什麼原因會導致猶豫是否要在公開場合學習</h2><ul>
<li>我不是專家</li>
<li>太可怕</li>
<li>我還沒準備好分享我的作品</li>
<li>我不想被公審</li>
<li>技術人員不需要成為內容創作者</li>
</ul>
<h2 id="事實上，在公開場合學習的心態"><a href="#事實上，在公開場合學習的心態" class="headerlink" title="事實上，在公開場合學習的心態"></a>事實上，在公開場合學習的心態</h2><h3 id="1-你不需要成為專家"><a href="#1-你不需要成為專家" class="headerlink" title="1. 你不需要成為專家"></a>1. 你不需要成為專家</h3><p>在公開場合學習專業知識與完美無關，重點是達到一種誠實與開放的方式，紀錄從初學到高級者的過程，即使你不是專家，在公開場合學習仍然可以幫助到那些找到你內容的人。<br>很多時候，吸收你的內容的人，與你處於類似的階段，對他們的學習來說是耳目一新的。有時專家很難向初學者解釋概念，因為他們離初學者階段太遠了。</p>
<h3 id="2-錯了沒有關係"><a href="#2-錯了沒有關係" class="headerlink" title="2. 錯了沒有關係"></a>2. 錯了沒有關係</h3><p>錯誤發生了，那又怎樣，這是學習的一部分。從你的內容中學習的人，更在乎它的真實性而不是完美性。甚至給予他們一種空間，讓他們犯錯感到自在。</p>
<h3 id="3-您的回覆是我進步的最大動力"><a href="#3-您的回覆是我進步的最大動力" class="headerlink" title="3. 您的回覆是我進步的最大動力"></a>3. 您的回覆是我進步的最大動力</h3><p>酸民確實存在，即使是最受歡迎和最後尊敬的創作者也會有很多酸民。然而，大多數人，都會樂見於你的成長。老實說，社群的回饋比酸民的言論更多。此外，支持者有時候會鼓勵你在休息的時候持續學習往前，但不意外你應該忽略你的感受與心理健康。與促進你成長的人結識，遠離酸民，適當的休息。</p>
<h3 id="4-完美是進步的敵人"><a href="#4-完美是進步的敵人" class="headerlink" title="4. 完美是進步的敵人"></a>4. 完美是進步的敵人</h3><p>你可能會想要等到所有東西都很完美後，再分享它，這是完全沒有問題的。但這剝奪了一些你在公開場合學習的一些好處，以下有三種不同的情境：</p>
<h4 id="情境-1：-你在公開場合學習，人們對你正在建構的東西感到興奮"><a href="#情境-1：-你在公開場合學習，人們對你正在建構的東西感到興奮" class="headerlink" title="情境 1： 你在公開場合學習，人們對你正在建構的東西感到興奮"></a>情境 1： 你在公開場合學習，人們對你正在建構的東西感到興奮</h4><p>他們觀察你的過程，隨著你的進步，他們感覺到你知識淵博，因為有證據證明你隨著時間的推移正在進步。你的網路擴大了，獲得了更多的工作機會，人們會協助你往正確的方向前進，這會點燃你繼續學習與建設的動力。且你紀錄了隨時間推移的進步，所以你可以回顧已經走了多遠。</p>
<h4 id="情境-2：-你正在等待分享你的成果，但這需要很長的時間才能最終完成目標。到時候你宣布你的成果發佈，人們沒有預料到它的發佈，所以獲得的反響較小"><a href="#情境-2：-你正在等待分享你的成果，但這需要很長的時間才能最終完成目標。到時候你宣布你的成果發佈，人們沒有預料到它的發佈，所以獲得的反響較小" class="headerlink" title="情境 2： 你正在等待分享你的成果，但這需要很長的時間才能最終完成目標。到時候你宣布你的成果發佈，人們沒有預料到它的發佈，所以獲得的反響較小"></a>情境 2： 你正在等待分享你的成果，但這需要很長的時間才能最終完成目標。到時候你宣布你的成果發佈，人們沒有預料到它的發佈，所以獲得的反響較小</h4><h4 id="情境-3：你正在等待分享你的成果，因為失去動力而放棄了專案，這個專案一無所獲，即使是一個很好的點子"><a href="#情境-3：你正在等待分享你的成果，因為失去動力而放棄了專案，這個專案一無所獲，即使是一個很好的點子" class="headerlink" title="情境 3：你正在等待分享你的成果，因為失去動力而放棄了專案，這個專案一無所獲，即使是一個很好的點子"></a>情境 3：你正在等待分享你的成果，因為失去動力而放棄了專案，這個專案一無所獲，即使是一個很好的點子</h4><p>當你在公開場合學習時，人們會投入到你的旅程中，記錄這段旅程可以讓你回顧自己的成長。</p>
<h3 id="5-建立自己的品牌，有助於你掌握自己的職業生涯"><a href="#5-建立自己的品牌，有助於你掌握自己的職業生涯" class="headerlink" title="5. 建立自己的品牌，有助於你掌握自己的職業生涯"></a>5. 建立自己的品牌，有助於你掌握自己的職業生涯</h3><p>很多成功的軟體工程師，他們不使用社交媒體，也不在公開場合學習，這沒有問題。<br>然而如果一直在等待別人推薦你，很難控制你的職涯方向。通過在公開場合學習來建立自己的品牌，是一種自我推廣的形式。如果你對自我推銷感到畏縮，那「成為一名優秀的工程師」有什麼意義？</p>
<h2 id="三、如何在公開場合學習"><a href="#三、如何在公開場合學習" class="headerlink" title="三、如何在公開場合學習"></a>三、如何在公開場合學習</h2><h3 id="1-設定-SMART-指標"><a href="#1-設定-SMART-指標" class="headerlink" title="1. 設定 SMART 指標"></a>1. 設定 SMART 指標</h3><p>具體、可衡量、可實現、相關、時效性的，如：</p>
<ul>
<li>具體：我想學習 SEO 來為我的團隊貢獻。</li>
<li>可衡量：當我完成 SEO 課程，或閱讀完相關概念時，我將寫成文章來整理我所學習的知識。</li>
<li>可實現：我已經對 SSR 的概念有些了解，且對我來說使用前端工具來增強 SEO 是很好上手的。</li>
<li>相關：雖然我是一名中級工程師，但我不能就 SEO 的決策向我的初級同事提供建議，而且我對選擇這些任務感到更加猶豫。</li>
<li>有時限：我希望有信心在接下來的六個月內學習如何提高網頁 SEO，以便及時進行審查。</li>
</ul>
<h3 id="2-確定您喜歡使用的平臺"><a href="#2-確定您喜歡使用的平臺" class="headerlink" title="2. 確定您喜歡使用的平臺"></a>2. 確定您喜歡使用的平臺</h3><p>有一個迷思，當你決定開始在公開場合學習後，你需要在推特、開源專案、Podcast、conference 上發言，但完整達到且持續進行是不可能的，因為沒有那麼多時間。建議先從一個平台開始，選擇讓你最舒服的平台。例如：我一直喜歡用寫作來表達自己，所以決定通過 Twitter 在公開場合學習，最後會演變成部落格文章。當我想挑戰自己的時候，嘗試在直播中分享，然後我就可以在 conference 中更有自信來表達，這是一個漸進的過程。</p>
<p>如果不確定有哪些媒體可以在公開場合學習，這裡有一些：</p>
<ul>
<li>部落格：請利用流行的開發人員部落格平台，如（Aviyel, Dev.to, Handnode），來談論你正在學習的內容。</li>
<li>開源專案：如果不想發言或創建內容，可以透過開源程式碼，供其他人查看和協作。</li>
<li>直播：在直播中 live coding，並與觀眾互動。他們可能會告訴其他人你的專案，或是要求要自己貢獻。請注意你不可能永遠在直播當中提供解決方案，這沒有關係。邊學習邊直播是一個額外的技能，會隨著時間的推移而進步。</li>
<li>在聚會或 conference 中公開演講：不要害怕，人們參加聚會和會議來提高靈感，他們並不是在尋找博士級別的講座，上台分享你正在學習的東西，你為什麼學習他、你面臨的問題，以及你的發現。</li>
<li>TikTok, Youtube</li>
</ul>
<h3 id="3-選擇可管理的節奏"><a href="#3-選擇可管理的節奏" class="headerlink" title="3. 選擇可管理的節奏"></a>3. 選擇可管理的節奏</h3><p>每個人每天只有 24 小時，要工作、社交、學習、家庭生活，現在又多了「在公開場合學習」，檢查一下每週例行公事，選擇一個專門的時間在公開場合學習，有些人在工作日利用禮拜五來學習，可以嘗試與主管討論。</p>
<h3 id="4-開始發佈"><a href="#4-開始發佈" class="headerlink" title="4. 開始發佈"></a>4. 開始發佈</h3><p>人們總是想準備好再上場，例如擁有完美的相機、或需要先建立自己的部落格平台，但即使一切都沒有準備到位，也要開始。因為隨著時間的推移，一切都會越來越好，這是過程。</p>
<h3 id="5-觀察與吸收其他人分享的資訊"><a href="#5-觀察與吸收其他人分享的資訊" class="headerlink" title="5. 觀察與吸收其他人分享的資訊"></a>5. 觀察與吸收其他人分享的資訊</h3><p>如果不確定如何正確的在公開場合學習，可以觀察其他人，不需要完整複製他們的方式，但可以當作靈感，學習如何優雅的犯錯，與受眾互動並格式化自己的內容。</p>
<h3 id="6-想辦法集中管理且追蹤你的內容"><a href="#6-想辦法集中管理且追蹤你的內容" class="headerlink" title="6. 想辦法集中管理且追蹤你的內容"></a>6. 想辦法集中管理且追蹤你的內容</h3><p>隨著時間推移，你創作了大量的內容，但他可能存在於各種平台。收集你的內容，像當前或未來的老闆 Demo 作品，作為知識與影響力的證據，作者使用 Polywork 來追蹤自己所有部落格文章、演講、影片，可以自己選擇。</p>
<h3 id="7-偶爾反思自己的進步"><a href="#7-偶爾反思自己的進步" class="headerlink" title="7. 偶爾反思自己的進步"></a>7. 偶爾反思自己的進步</h3><p>健身的人經常紀錄自己的體態，來記錄他們的進步。但若沒有紀錄，健身一年，也可能會覺得 0 進步。這時照片與鍛鍊日記這種可以回顧的紀錄，就是一個很好的方式讓你意識到自己的成長與過程。在公開場合學習也是如此。有時可能會覺得挫折、撞牆，可以試試回顧、反思自己的成長過程。</p>
<h3 id="8-慶祝"><a href="#8-慶祝" class="headerlink" title="8. 慶祝"></a>8. 慶祝</h3><p>完成了一個目標，適當的放鬆，沈浸在自己的偉大中，去吃一頓大餐或給自己買個禮物。我們經常忽略自己的成就，就迅速的往下個目標前進，但你應該享受你的成果。</p>
<h3 id="9-重複"><a href="#9-重複" class="headerlink" title="9. 重複"></a>9. 重複</h3><p>你實現了你的目標，但不必止步於此，在慶祝與放鬆後，評估是否適合開始制定新計畫，並持續自我提升。</p>
<h2 id="四、總結"><a href="#四、總結" class="headerlink" title="四、總結"></a>四、總結</h2><p>在公開場合學習有多項好處：</p>
<ol>
<li>誠實且公開的面對自己的成果與過程中的不完美</li>
<li>紀錄自己的成長</li>
<li>建立自己的品牌，促進自我推廣</li>
<li>與社群互動，獲得動力</li>
</ol>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/blog.rock070/2022/06/10/git-commit/" itemprop="url">建立可讀性高的 git 提交吧！</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2022-06-10T13:04:33.000Z" itemprop="datePublished">2022年6月10日</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/blog.rock070/categories/Git/">Git</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            21 分钟 讀完 (約 3126 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>在討論之前，我們應該先知道什麼是「可讀性低的提交」。</p>
<p><img src="https://i.imgur.com/MLKNF02.png" alt="git"></p>
<p>上方這個提交紀錄，可以四個提交大概看到提交的內容是什麼，但是又好像不太確定提交訊息所指的內容。<br>「會員登入」這個提交，可以看出是跟會員登入有關係，但是然後呢？可能會有些疑問浮出心頭：「他是製作了會員登入的功能嗎？」、「修改了會員登入的樣式？」、「修正了會員登入的 bug？」、「還是重構了？」<br>再看「調整會員登入」這個提交，「他修改了會員登入的什麼東西啊？」。</p>
<p>我相信在開發的過程中如果看到其他成員的提交訊息是這樣，心中可能會冒起這些疑問。如果還沒有冒出這些疑問，那讓我們看看下面的範例：</p>
<p><img src="https://i.imgur.com/eJR9MaC.png" alt="git"></p>
<p>可以看到又有人提交了一個訊息叫做「會員登入」，跟第一個提交命名居然一樣，這時候團隊其他成員就生氣了：「這到底誰看得懂？」。</p>
<h2 id="低可讀性造成什麼問題？"><a href="#低可讀性造成什麼問題？" class="headerlink" title="低可讀性造成什麼問題？"></a><strong>低可讀性造成什麼問題？</strong></h2><ul>
<li>無法一眼看出提交的主要內容</li>
<li>可能導致很多重複性的提交訊息</li>
<li>使合併提交的人，無法簡單的了解為什麼需要這個變更</li>
</ul>
<p>這樣的提交訊息無論我們是要整理分支、cherry-pick、還是根據節點 code review，就會無法一眼就知道這個節點的修改內容，也因為這樣，整理起來就會變得困難。</p>
<h2 id="高可讀性帶來什麼好處？"><a href="#高可讀性帶來什麼好處？" class="headerlink" title="高可讀性帶來什麼好處？"></a><strong>高可讀性帶來什麼好處？</strong></h2><p>讓我們再來看看下面這個提交：</p>
<p><img src="https://i.imgur.com/XcDeQRH.png" alt="git"></p>
<p>跟剛剛相比，新增了以下幾點描述，使提交更清楚，「feat(會員登入): 登入功能與切版」可以很清楚知道，製作了「會員登入」頁面的「功能」與「切版」；「refactor(會員登入): 重構 useLogin 程式碼」可以清楚知道「重構」了「會員登入」頁面的 「useLogin」 函式。</p>
<p>如此，就能更清楚提交的內容了，而在不久的未來，可能會因為這樣貼心的舉動而感謝自己。<br>另外，我們其實可以建立一套提交規範，讓團隊去遵守，更可以透過提交工具來簡單化這個過程。</p>
<h2 id="建立一套提交規範"><a href="#建立一套提交規範" class="headerlink" title="建立一套提交規範"></a><strong>建立一套提交規範</strong></h2><p>規範可以根據團隊自己建立，就像感情一樣，沒有絕對好的，只有最適合的，最適合就是最好的。</p>
<p>目前被廣泛使用的就是 Angular 團隊使用的 <a target="_blank" rel="noopener" href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md">Git Commit Guidelines</a> ，也衍生了這一套規格： <a target="_blank" rel="noopener" href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commit</a> ，目前我也是採用這一套。</p>
<p>接下來我會大概闡述一下這套規範，加上一些我個人的想法：</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>每個提交都必須要有 header, body, footer，header 是由 type, scope, subject 所組成</p>
<p>而我們可以透過指令： <code>git commit -m 'header' -m 'body' -m 'footer'</code> 來達到這種提交訊息，如：</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am 'fix(全站): 修正 IOS 裝置頁面高度跑版問題' -m '因為用戶 在 IOS 裝置上收放 Toolbar 會導致頁面跑版，所以將 100vh 寫死更改為監聽 web resize 事件，每次 resize 都重新調整頁面高度 ' -m 'fix #22'</span><br></pre></td></tr></tbody></table></figure>

<p>git log 出來看看</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">commit 88700ed8418fc8aa99c545cf5804fe3ba0d3c1b2 (HEAD -&gt; master)</span><br><span class="line">Author: rock070</span><br><span class="line">Date:   Fri Jun 10 09:54:17 2022 +0800</span><br><span class="line"></span><br><span class="line">    fix(全站): 修正 IOS 裝置頁面高度跑版問題</span><br><span class="line">    </span><br><span class="line">    因為用戶在 IOS 裝置上收放 Toolbar 會導致頁面跑版，所以將 100vh 寫死更改為監聽 web resize 事件，每次 resize 都重新調整頁面高度</span><br><span class="line">    </span><br><span class="line">    fix #22</span><br></pre></td></tr></tbody></table></figure>

<h3 id="type-類型"><a href="#type-類型" class="headerlink" title="type 類型"></a><strong>type 類型</strong></h3><p>下面是可以選用的類型：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">feat: 新功能</span><br><span class="line"><span class="hljs-attr">fix</span>: 修正 bug</span><br><span class="line"><span class="hljs-attr">docs</span> :文件內容修改</span><br><span class="line"><span class="hljs-attr">style</span>: 跟程式碼語意無關的修改，包含修改縮排、新增分號 ... 等等之類的</span><br><span class="line"><span class="hljs-attr">refactor</span>: 無關新功能與 bug 修正的程式碼修改</span><br><span class="line"><span class="hljs-attr">perf</span>: 程式碼對於提升效能有幫助的修改</span><br><span class="line"><span class="hljs-attr">test</span>: 新增或修改測試</span><br><span class="line"><span class="hljs-attr">ci</span>: 修改 ci 的配置檔</span><br><span class="line"><span class="hljs-attr">chore</span>: 無關 <span class="hljs-string">`src`</span>, <span class="hljs-string">`test`</span> 路徑內的檔案修改</span><br><span class="line"><span class="hljs-attr">revert</span>: 恢復某個提交</span><br><span class="line"><span class="hljs-attr">build</span>: 改變打包流程</span><br></pre></td></tr></tbody></table></figure>

<h4 id="Scope-範圍"><a href="#Scope-範圍" class="headerlink" title="Scope 範圍"></a><strong>Scope 範圍</strong></h4><p>任何可以劃分程式碼改變的範圍，例如：page, router, compile, component … 等等。</p>
<h4 id="Subject-主題"><a href="#Subject-主題" class="headerlink" title="Subject 主題"></a><strong>Subject 主題</strong></h4><p>對程式碼的修改做簡單的敘述</p>
<h4 id="body-內文"><a href="#body-內文" class="headerlink" title="body 內文"></a><strong>body 內文</strong></h4><p>敘述這次程式碼變更的動機，並說明這個提交與改變前的對比。</p>
<p>若不知道怎麼寫，可以參考這三個問題：</p>
<ol>
<li>為什麼這個提交是必要的？<br>告訴審核 pull request 的人你的提交會帶來什麼改變，使他可以更簡單的辨認是否為不相干的提交。</li>
<li>它如何解決問題？</li>
<li>這個提交對專案有什麼副作用？<br>這個是很重要的，他可以有效地幫助你辨認，這個提交是否做太多改變了，如果一兩個副作用還可以接受，但如果是五、六個以上，就代表你做了太多了改變。</li>
</ol>
<h4 id="Footer-結尾"><a href="#Footer-結尾" class="headerlink" title="Footer 結尾"></a><strong>Footer 結尾</strong></h4><p>結尾通常會有兩種：</p>
<ol>
<li>標註 Breaking Change<br>超級大更新，通常需要以 <code>BREAKING CHANGE:</code> 為開頭，或是在 header 前面加上 <code>!</code>，如 <code>!feat(UI Library): 提供全新的 UI Library</code>。</li>
<li>指出修正了什麼 issue，並關閉 issue，或是關閉了哪則 Pull Request。</li>
</ol>
<p>另外可以到 GitHub 上看一些關注度較高的開源專案的提交訊息，例如：<a target="_blank" rel="noopener" href="https://github.com/torvalds/linux/commits/master">Linux 的 commit</a>，基本上都是長篇大論的，或是 <a target="_blank" rel="noopener" href="https://github.com/facebook/react/commits/main">Facebook/react</a>。</p>
<h3 id="使用工具建立團隊-commit-規範"><a href="#使用工具建立團隊-commit-規範" class="headerlink" title="使用工具建立團隊 commit 規範"></a><strong>使用工具建立團隊 commit 規範</strong></h3><ul>
<li>使用 <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/commitlint">commitlint</a> 檢查 comit message</li>
<li>搭配 <a target="_blank" rel="noopener" href="https://github.com/typicode/husky">husky</a><ul>
<li>在 pre-commit 階段 lint 程式碼，搭配 eslint（可自由搭配不同 lint 工具）。</li>
<li>在建立 commit message 前就自動執行 commitlint</li>
</ul>
</li>
<li>使用&nbsp;<a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/standard-version">standard version</a>&nbsp;來同時更新版本號和產生 CHANGELOG 檔</li>
</ul>
<p>這邊會使用 commitlint 官方推薦的規範，或是可以根據<a target="_blank" rel="noopener" href="https://commitlint.js.org/#/reference-configuration?id=configuration">官方文件</a> 建立自己的一套規範。</p>
<ul>
<li>@commitlint/cli&nbsp;是用來執行 commitlint 的工具</li>
<li>@commitlint/config-conventional&nbsp;是根據 <a target="_blank" rel="noopener" href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commit</a> 所建立的規範，詳細規則可以看這份 <a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/commitlint/blob/master/%40commitlint/config-conventional/index.js">source code</a>。</li>
</ul>
<p>根據官方建議的安裝步驟：</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -D @commitlint/{cli,config-conventional}</span><br><span class="line"></span><br><span class="line">// 建立 commitlint.config.js 檔案，並繼承 node_modules 內的 @commitlint/config/config-conventional/index.js 設定檔</span><br><span class="line">echo "module.exports = {extends: ['@commitlint/config-conventional']}" &gt; commitlint.config.js</span><br></pre></td></tr></tbody></table></figure>

<p>可以自己簡單測試一下：</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 123 | npm exec commitlint</span><br></pre></td></tr></tbody></table></figure>

<p>若是不符合規範，就會顯示錯誤訊息：</p>
<p><img src="https://i.imgur.com/fIKfxA5.png" alt="git"></p>
<p>補充：<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/commands/npm-exec">npm exec</a> 是 npm v7 推出的功能，可以執行本地依賴或遠端 npm packages 庫內的指令，當執行本地依賴沒有安裝的庫時，會問你要不要安裝，類似 npx，若本來沒有安裝，執行後會自動刪除。</p>
<h3 id="搭配-husky"><a href="#搭配-husky" class="headerlink" title="搭配 husky"></a><strong>搭配 husky</strong></h3><p>建立 husky 是一款類似於捕捉 git 生命週期的一個工具，使我們可以 git 的每個階段都可以設定一段指令執行。</p>
<p>因此，我們用來在「提交訊息」的時候，使用 commit lint 檢查訊息是否有符合 conventional commit。</p>
<p>安裝</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install husky -D</span><br></pre></td></tr></tbody></table></figure>

<p>接著執行 husky 的初始化</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm exec husky install</span><br><span class="line"><span class="hljs-meta"></span></span><br><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> husky - Git hooks installed</span></span><br></pre></td></tr></tbody></table></figure>

<p>執行完後會出現 .husky 資料夾</p>
<p><img src="https://i.imgur.com/D0tJeVW.png" alt="git"></p>
<p>接著新增 hook</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm exec -- husky add .husky/commit-msg 'npm test'                              </span><br></pre></td></tr></tbody></table></figure>

<p>執行後會產生 <code>.husky/commit-msg</code> 的檔案：</p>
<p><img src="https://i.imgur.com/ky3xB8t.png" alt="git"></p>
<p>藉著我們要把 <code>commit-msg</code> 階段要執行的指令 <code>npm test</code> 更換成 <code>npm exec --no -- commitlint --edit "\${1}"</code></p>
<p>意思是抓取從 git commit 最後一個提交訊息，用 commitlint  檢查</p>
<p><img src="https://i.imgur.com/iXXtGjN.png" alt="git"></p>
<p>–edit 意思是會從某個指定檔案讀取最後一個 commit message ，或是到 ./.git/COMMIT_EDITMSG 裡面讀取</p>
<p><img src="https://i.imgur.com/sRfxw6J.png" alt="git"></p>
<p>接著來隨便 commit 看看，出現錯誤就代表成功啦，因為需要提交符合規範的訊息。</p>
<p><img src="https://i.imgur.com/34fXcAf.png" alt="git"></p>
<h2 id="在提交前執行eslint"><a href="#在提交前執行eslint" class="headerlink" title="在提交前執行eslint"></a>在提交前執行<strong>eslint</strong></h2><p>在協作開發的情況下，我們會使用 eslint 來統一 coding style，所以就會希望每個節點都是符合 codeing style。因此我們可以搭配 husky 的 <code>pre-commit</code> hook 來檢查。</p>
<p>建立 pre-commit hook</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm exec -- husky add .husky/pre-commit 'npm test'                              </span><br></pre></td></tr></tbody></table></figure>

<p>用 eslint 檢查 js, vue 檔案，並指定要忽略 <code>.gitignore</code> 內的檔案。</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">!/usr/bin/env sh</span></span><br><span class="line"></span><br><span class="line">. "$(dirname -- "$0")/_/husky.sh"</span><br><span class="line"></span><br><span class="line">eslint --ext \".js,.vue\" --ignore-path .gitignore .",</span><br></pre></td></tr></tbody></table></figure>

<p>但光是這樣還不夠，現在這樣只要做提交，eslint 就會去會檢查所有的檔案，若專案檔案一大，每次都要跑很久。</p>
<p>所以我們只需要檢查 git 有偵測到變更的檔案就好了。</p>
<p>修改為：</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">!/usr/bin/env sh</span></span><br><span class="line"></span><br><span class="line">. "$(dirname -- "$0")/_/husky.sh"</span><br><span class="line"></span><br><span class="line">npm run eslint $(git diff --diff-filter=ACM --name-only HEAD | grep -E '\.(js|vue)$') --ignore-path .gitignore .eslintignore</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>git diff –name-only HEAD :列出與目前分支有變更的檔案名稱</li>
<li>-diff-filter=ACM 過濾出 Add, Copy, Modified 檔案，排除 Delete</li>
<li>grep -E ‘.(js|vue)$’ 過濾出 js 檔 &amp; vue 檔</li>
<li>忽略 ignore-path 指定「忽略文件」的位置</li>
</ul>
<h3 id="Standard-Version-更新版本號、產生-change-log"><a href="#Standard-Version-更新版本號、產生-change-log" class="headerlink" title="Standard Version 更新版本號、產生 change log"></a><strong><a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/standard-version">Standard Version</a> 更新版本號、產生 change log</strong></h3><p><img src="https://i.imgur.com/eiqp54i.png" alt="git"></p>
<p>standard 是一套幫你自動化產生 changelog 跟更新版本號的工具，簡單來說會分為以下步驟：</p>
<ol>
<li>抓取上一個版本之前的 fix, feat 類型的提交訊息</li>
<li>貼入 <code>CHANGELOG.md</code> 檔案中</li>
<li>更新 package.json 的版本</li>
<li>自動 commit</li>
</ol>
<p>安裝</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D standard-version</span><br></pre></td></tr></tbody></table></figure>

<p>package.json<br>``</p>
<figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-string">"scripts"</span>: {</span><br><span class="line"> <span class="hljs-attr">"release"</span>: <span class="hljs-string">"standard-version"</span></span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>

<p>執行 <code>npm run release</code> 就會發現它自動幫你產生了 <code>CHANGELOG.md</code> 檔案（上圖），並把你提交內 type 為 feat &amp; fix 的變更抓進來，換句話說 refactor, build, chore 都不會被抓進來，這用來發布更新文件，真的非常方便！</p>
<p>另外看 git 的線圖，也可以看到他幫我自動做了提交，也把 package.json 的 <code>version</code> 更新為新版號。</p>
<p><img src="https://i.imgur.com/52BjeZr.png" alt="git"></p>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a><strong>結語</strong></h2><p>上面我們透過工具 commit + husky + lint library + standard version，可以建立完整的提交流程：<br>阻擋不符合規範的提交，並透過 pre-commit hook 檢查 coding style，最後再自動戶產生 changelog 與更新版本號。</p>
<p>具有語意化的提交訊息，與詳細的描述，對我而言目前只有優點沒有缺點，但並不是要我們每個提交都需要長篇大論，可以根據狀況做調整，最適合你的方式就是最好的。</p>
<p>另外也有 <a target="_blank" rel="noopener" href="https://github.com/commitizen/cz-cli">Commitizen/cz-cli</a> 自動化提交工具，在你提交的時候問你一些問題，有些是選擇題，互動的方式，幫你自動產生提交，你只要回答他問你的問題就夠了；也可以參考 <a target="_blank" rel="noopener" href="https://gitmoji.dev/">Git Emoji</a>，設定屬於自己的 Emoji 提交，非常有趣，有興趣可以上去看看。</p>
<p>最後，我想就算是自己一個人的專案，設定可讀性高的提交，未來在回顧 git 紀錄的時候，也是一個提高檢視效率的方法，所以開始讓提交的可讀性變高吧，Why not ?</p>
<h3 id="參考文章"><a href="#參考文章" class="headerlink" title="參考文章"></a><strong>參考文章</strong></h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21209619">知乎 - 如何写好 Git commit log?</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903606815064077">优雅的提交你的 Git Commit Message</a></li>
<li><a target="_blank" rel="noopener" href="https://thoughtbot.com/blog/5-useful-tips-for-a-better-commit-message">5 Useful Tips For A Better Commit Message</a></li>
<li><a target="_blank" rel="noopener" href="https://pjchender.blogspot.com/2021/07/git-commit-message.html">pjchender - 透過工具建立有規範的 git commit message 吧</a></li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous is-invisible is-hidden-mobile">
        <a href="/blog.rock070/0/">上一頁</a>
    </div>
    <div class="pagination-next">
        <a href="/blog.rock070/2/">下一頁</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link is-current" href="/blog.rock070/">1</a></li>
        
        <li><a class="pagination-link" href="/blog.rock070/2/">2</a></li>
        
        <li><span class="pagination-ellipsis">&hellip;</span></li>
        
        <li><a class="pagination-link" href="/blog.rock070/8/">8</a></li>
        
    </ul>
</nav>
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2023 Rock070&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://github.com/Rock070">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>




<script src="/blog.rock070/js/script.js"></script>


    
</body>
</html>